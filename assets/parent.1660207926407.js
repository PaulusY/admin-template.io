import{L as N,s as c,a3 as R,m as f,K as T,n as p,l as _,H as g,j as k,a6 as A,k as K,aE as y,a7 as C,o as u,a as L,_ as v,T as w,$ as B,S as d,W as $,aH as P}from"./vue.1660207926407.js";import{c as x,u as S,S as E,a as H}from"./index.1660207926407.js";const I=N({name:"layoutParentView",setup(){const{proxy:s}=K(),a=y(),l=x(),m=S(),{keepAliveNames:o,cachedViews:i}=c(l),{themeConfig:t}=c(m),e=R({refreshRouterViewKey:null,keepAliveNameList:[]}),h=f(()=>t.value.animation),V=f(()=>t.value.isTagsview?i.value:e.keepAliveNameList);return T(()=>{e.keepAliveNameList=o.value,s.mittBus.on("onTagsViewRefreshRouterView",n=>{e.keepAliveNameList=o.value.filter(r=>a.name!==r),e.refreshRouterViewKey=null,p(()=>{e.refreshRouterViewKey=n,e.keepAliveNameList=o.value})})}),_(()=>{p(()=>{setTimeout(()=>{var n;t.value.isCacheTagsView&&(i.value=(n=E.get("tagsViewList"))==null?void 0:n.map(r=>r.name))},0)})}),g(()=>{s.mittBus.off("onTagsViewRefreshRouterView",()=>{})}),k(()=>a.fullPath,()=>{e.refreshRouterViewKey=decodeURI(a.fullPath)}),{setTransitionName:h,getKeepAliveNames:V,...A(e)}}}),M={class:"h100"};function U(s,a,l,m,o,i){const t=C("router-view");return u(),L("div",M,[v(t,null,{default:w(({Component:e})=>[v(B,{name:s.setTransitionName,mode:"out-in"},{default:w(()=>[(u(),d(P,{include:s.getKeepAliveNames},[(u(),d($(e),{key:s.refreshRouterViewKey,class:"w100"}))],1032,["include"]))]),_:2},1032,["name"])]),_:1})])}const W=H(I,[["render",U]]);export{W as default};
