import{s as E,a as D}from"./index.1660207926407.js";import{n as P,L as $,i as k,a3 as x,m as O,l as z,j as _,a6 as W,a7 as d,o as f,a as w,_ as C,T as m,S as F,O as g,b as u,Z as A,X as L,F as j,aa as N}from"./vue.1660207926407.js";const M=()=>new Promise((e,s)=>{P(()=>{const i=document.styleSheets;let t=[],o=[];for(let n=0;n<i.length;n++)i[n].href&&i[n].href.indexOf("at.alicdn.com")>-1&&t.push(i[n]);for(let n=0;n<t.length;n++)for(let l=0;l<t[n].cssRules.length;l++)t[n].cssRules[l].selectorText&&t[n].cssRules[l].selectorText.indexOf(".icon-")>-1&&o.push(`${t[n].cssRules[l].selectorText.substring(1,t[n].cssRules[l].selectorText.length).replace(/\:\:before/gi,"")}`);o.length>0?e(o):s("\u672A\u83B7\u53D6\u5230\u503C\uFF0C\u8BF7\u5237\u65B0\u91CD\u8BD5")})}),U=()=>new Promise((e,s)=>{P(()=>{const i=E,t=[];for(const o in i)t.push(`ele-${i[o].name}`);t.length>0?e(t):s("\u672A\u83B7\u53D6\u5230\u503C\uFF0C\u8BF7\u5237\u65B0\u91CD\u8BD5")})}),X=()=>new Promise((e,s)=>{P(()=>{const i=document.styleSheets;let t=[],o=[];for(let n=0;n<i.length;n++)i[n].href&&i[n].href.indexOf("netdna.bootstrapcdn.com")>-1&&t.push(i[n]);for(let n=0;n<t.length;n++)for(let l=0;l<t[n].cssRules.length;l++)t[n].cssRules[l].selectorText&&t[n].cssRules[l].selectorText.indexOf(".fa-")===0&&t[n].cssRules[l].selectorText.indexOf(",")===-1&&/::before/.test(t[n].cssRules[l].selectorText)&&o.push(`${t[n].cssRules[l].selectorText.substring(1,t[n].cssRules[l].selectorText.length).replace(/\:\:before/gi,"")}`);o.length>0?e(o.reverse()):s("\u672A\u83B7\u53D6\u5230\u503C\uFF0C\u8BF7\u5237\u65B0\u91CD\u8BD5")})}),T={ali:()=>M(),ele:()=>U(),awe:()=>X()},Z=$({name:"iconSelector",emits:["update:modelValue","get","clear"],props:{prepend:{type:String,default:()=>"ele-Pointer"},placeholder:{type:String,default:()=>"\u8BF7\u8F93\u5165\u5185\u5BB9\u641C\u7D22\u56FE\u6807\u6216\u8005\u9009\u62E9\u56FE\u6807"},size:{type:String,default:()=>"default"},title:{type:String,default:()=>"\u8BF7\u9009\u62E9\u56FE\u6807"},type:{type:String,default:()=>"ele"},disabled:{type:Boolean,default:()=>!1},clearable:{type:Boolean,default:()=>!0},emptyDescription:{type:String,default:()=>"\u65E0\u76F8\u5173\u56FE\u6807"},modelValue:String},setup(e,{emit:s}){const i=k(),t=k(),o=x({fontIconPrefix:"",fontIconWidth:0,fontIconSearch:"",fontIconTabsIndex:0,fontIconSheetsList:[],fontIconPlaceholder:"",fontIconType:"ali",fontIconShow:!0}),n=()=>{if(!e.modelValue)return!1;o.fontIconSearch="",o.fontIconPlaceholder=e.modelValue},l=()=>{setTimeout(()=>{o.fontIconSheetsList.filter(r=>r===o.fontIconSearch).length<=0&&(o.fontIconSearch="")},300)},h=()=>{if(e.modelValue==="")return o.fontIconPlaceholder=e.placeholder;o.fontIconPlaceholder=e.modelValue,o.fontIconPrefix=e.modelValue},y=()=>{var a,r,I;((a=e.modelValue)==null?void 0:a.indexOf("iconfont"))>-1?c("ali"):((r=e.modelValue)==null?void 0:r.indexOf("ele-"))>-1?c("ele"):((I=e.modelValue)==null?void 0:I.indexOf("fa"))>-1?c("awe"):c("ali")},v=O(()=>{if(!o.fontIconSearch)return o.fontIconSheetsList;let a=o.fontIconSearch.trim().toLowerCase();return o.fontIconSheetsList.filter(r=>{if(r.toLowerCase().indexOf(a)!==-1)return r})}),S=()=>{P(()=>{o.fontIconWidth=i.value.$el.offsetWidth})},B=()=>{window.addEventListener("resize",()=>{S()})},b=async a=>{o.fontIconSheetsList=[],a==="ali"?await T.ali().then(r=>{o.fontIconSheetsList=r.map(I=>`iconfont ${I}`)}):a==="ele"?await T.ele().then(r=>{o.fontIconSheetsList=r}):a==="awe"&&await T.awe().then(r=>{o.fontIconSheetsList=r.map(I=>`fa ${I}`)}),o.fontIconPlaceholder=e.placeholder,h()},c=a=>{o.fontIconType=a,b(a)},p=a=>{o.fontIconPlaceholder=a,o.fontIconPrefix=a,s("get",o.fontIconPrefix),s("update:modelValue",o.fontIconPrefix)},V=()=>{o.fontIconPrefix="",s("clear",o.fontIconPrefix),s("update:modelValue",o.fontIconPrefix)},R=()=>{h(),y()};return z(()=>{h(),B(),S()}),_(()=>e.modelValue,()=>{h()}),{inputWidthRef:i,selectorScrollbarRef:t,fontIconSheetsFilterList:v,onColClick:p,onIconChange:c,onClearFontIcon:V,onIconFocus:n,onIconBlur:l,onPopoverShow:R,...W(o)}}}),q={class:"icon-selector w100 h100"},G={class:"icon-selector-warp"},H={class:"icon-selector-warp-title flex"},J={class:"flex-auto"},K={key:0,class:"icon-selector-warp-title-tab"},Q={class:"icon-selector-warp-row"},Y={class:"flex-margin"},ee={class:"icon-selector-warp-item-value"};function oe(e,s,i,t,o,n){const l=d("SvgIcon"),h=d("el-input"),y=d("el-col"),v=d("el-row"),S=d("el-empty"),B=d("el-scrollbar"),b=d("el-popover");return f(),w("div",q,[C(b,{placement:"bottom",width:e.fontIconWidth,trigger:"click",transition:"el-zoom-in-top","popper-class":"icon-selector-popper",onShow:e.onPopoverShow},{reference:m(()=>[C(h,{modelValue:e.fontIconSearch,"onUpdate:modelValue":s[0]||(s[0]=c=>e.fontIconSearch=c),placeholder:e.fontIconPlaceholder,clearable:e.clearable,disabled:e.disabled,size:e.size,ref:"inputWidthRef",onClear:e.onClearFontIcon,onFocus:e.onIconFocus,onBlur:e.onIconBlur},{prepend:m(()=>{var c,p;return[(e.fontIconPrefix===""?((c=e.prepend)==null?void 0:c.indexOf("ele-"))>-1:((p=e.fontIconPrefix)==null?void 0:p.indexOf("ele-"))>-1)?(f(),F(l,{key:0,name:e.fontIconPrefix===""?e.prepend:e.fontIconPrefix,class:"font14"},null,8,["name"])):(f(),w("i",{key:1,class:g([e.fontIconPrefix===""?e.prepend:e.fontIconPrefix,"font14"])},null,2))]}),_:1},8,["modelValue","placeholder","clearable","disabled","size","onClear","onFocus","onBlur"])]),default:m(()=>[u("div",G,[u("div",H,[u("div",J,A(e.title),1),e.type==="all"?(f(),w("div",K,[u("span",{class:g([{"span-active":e.fontIconType==="ali"},"ml10"]),onClick:s[1]||(s[1]=c=>e.onIconChange("ali")),title:"iconfont \u56FE\u6807"},"ali",2),u("span",{class:g([{"span-active":e.fontIconType==="ele"},"ml10"]),onClick:s[2]||(s[2]=c=>e.onIconChange("ele")),title:"elementPlus \u56FE\u6807"},"ele",2),u("span",{class:g([{"span-active":e.fontIconType==="awe"},"ml10"]),onClick:s[3]||(s[3]=c=>e.onIconChange("awe")),title:"fontawesome \u56FE\u6807"},"awe",2)])):L("",!0)]),u("div",Q,[C(B,{ref:"selectorScrollbarRef"},{default:m(()=>[e.fontIconSheetsFilterList.length>0?(f(),F(v,{key:0,gutter:10},{default:m(()=>[(f(!0),w(j,null,N(e.fontIconSheetsFilterList,(c,p)=>(f(),F(y,{xs:6,sm:4,md:4,lg:4,xl:4,onClick:V=>e.onColClick(c),key:p},{default:m(()=>[u("div",{class:g(["icon-selector-warp-item",{"icon-selector-active":e.fontIconPrefix===c}])},[u("div",Y,[u("div",ee,[C(l,{name:c},null,8,["name"])])])],2)]),_:2},1032,["onClick"]))),128))]),_:1})):L("",!0),e.fontIconSheetsFilterList.length<=0?(f(),F(S,{key:1,"image-size":100,description:e.emptyDescription},null,8,["description"])):L("",!0)]),_:1},512)])])]),_:1},8,["width","onShow"])])}const le=D(Z,[["render",oe]]);export{le as I};
